{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport { h, computed, inject, getCurrentInstance } from 'vue';\nimport { hSlot } from '../../utils/private/render.js';\nimport { layoutKey } from '../../utils/private/symbols.js';\nexport const usePageStickyProps = {\n  position: {\n    type: String,\n    default: 'bottom-right',\n    validator: v => ['top-right', 'top-left', 'bottom-right', 'bottom-left', 'top', 'right', 'bottom', 'left'].includes(v)\n  },\n  offset: {\n    type: Array,\n    validator: v => v.length === 2\n  },\n  expand: Boolean\n};\nexport default function () {\n  const {\n    props,\n    proxy\n  } = getCurrentInstance();\n  const {\n    $q\n  } = proxy;\n  const $layout = inject(layoutKey, () => {\n    console.error('QPageSticky needs to be child of QLayout');\n  });\n  const attach = computed(() => {\n    const pos = props.position;\n    return {\n      top: pos.indexOf('top') > -1,\n      right: pos.indexOf('right') > -1,\n      bottom: pos.indexOf('bottom') > -1,\n      left: pos.indexOf('left') > -1,\n      vertical: pos === 'top' || pos === 'bottom',\n      horizontal: pos === 'left' || pos === 'right'\n    };\n  });\n  const top = computed(() => $layout.header.offset);\n  const right = computed(() => $layout.right.offset);\n  const bottom = computed(() => $layout.footer.offset);\n  const left = computed(() => $layout.left.offset);\n  const style = computed(() => {\n    let posX = 0,\n        posY = 0;\n    const side = attach.value;\n    const dir = $q.lang.rtl === true ? -1 : 1;\n\n    if (side.top === true && top.value !== 0) {\n      posY = `${top.value}px`;\n    } else if (side.bottom === true && bottom.value !== 0) {\n      posY = `${-bottom.value}px`;\n    }\n\n    if (side.left === true && left.value !== 0) {\n      posX = `${dir * left.value}px`;\n    } else if (side.right === true && right.value !== 0) {\n      posX = `${-dir * right.value}px`;\n    }\n\n    const css = {\n      transform: `translate(${posX}, ${posY})`\n    };\n\n    if (props.offset) {\n      css.margin = `${props.offset[1]}px ${props.offset[0]}px`;\n    }\n\n    if (side.vertical === true) {\n      if (left.value !== 0) {\n        css[$q.lang.rtl === true ? 'right' : 'left'] = `${left.value}px`;\n      }\n\n      if (right.value !== 0) {\n        css[$q.lang.rtl === true ? 'left' : 'right'] = `${right.value}px`;\n      }\n    } else if (side.horizontal === true) {\n      if (top.value !== 0) {\n        css.top = `${top.value}px`;\n      }\n\n      if (bottom.value !== 0) {\n        css.bottom = `${bottom.value}px`;\n      }\n    }\n\n    return css;\n  });\n  const classes = computed(() => `q-page-sticky row flex-center fixed-${props.position}` + ` q-page-sticky--${props.expand === true ? 'expand' : 'shrink'}`);\n\n  function getStickyContent(slots) {\n    const content = hSlot(slots.default);\n    return h('div', {\n      class: classes.value,\n      style: style.value\n    }, props.expand === true ? content : [h('div', content)]);\n  }\n\n  return {\n    $layout,\n    getStickyContent\n  };\n}","map":{"version":3,"names":["h","computed","inject","getCurrentInstance","hSlot","layoutKey","usePageStickyProps","position","type","String","default","validator","v","includes","offset","Array","length","expand","Boolean","props","proxy","$q","$layout","console","error","attach","pos","top","indexOf","right","bottom","left","vertical","horizontal","header","footer","style","posX","posY","side","value","dir","lang","rtl","css","transform","margin","classes","getStickyContent","slots","content","class"],"sources":["C:/Users/BangJun/Desktop/VUE練習/app/node_modules/quasar/src/components/page-sticky/use-page-sticky.js"],"sourcesContent":["import { h, computed, inject, getCurrentInstance } from 'vue'\n\nimport { hSlot } from '../../utils/private/render.js'\nimport { layoutKey } from '../../utils/private/symbols.js'\n\nexport const usePageStickyProps = {\n  position: {\n    type: String,\n    default: 'bottom-right',\n    validator: v => [\n      'top-right', 'top-left',\n      'bottom-right', 'bottom-left',\n      'top', 'right', 'bottom', 'left'\n    ].includes(v)\n  },\n  offset: {\n    type: Array,\n    validator: v => v.length === 2\n  },\n  expand: Boolean\n}\n\nexport default function () {\n  const { props, proxy } = getCurrentInstance()\n  const { $q } = proxy\n\n  const $layout = inject(layoutKey, () => {\n    console.error('QPageSticky needs to be child of QLayout')\n  })\n\n  const attach = computed(() => {\n    const pos = props.position\n\n    return {\n      top: pos.indexOf('top') > -1,\n      right: pos.indexOf('right') > -1,\n      bottom: pos.indexOf('bottom') > -1,\n      left: pos.indexOf('left') > -1,\n      vertical: pos === 'top' || pos === 'bottom',\n      horizontal: pos === 'left' || pos === 'right'\n    }\n  })\n\n  const top = computed(() => $layout.header.offset)\n  const right = computed(() => $layout.right.offset)\n  const bottom = computed(() => $layout.footer.offset)\n  const left = computed(() => $layout.left.offset)\n\n  const style = computed(() => {\n    let posX = 0, posY = 0\n\n    const side = attach.value\n    const dir = $q.lang.rtl === true ? -1 : 1\n\n    if (side.top === true && top.value !== 0) {\n      posY = `${ top.value }px`\n    }\n    else if (side.bottom === true && bottom.value !== 0) {\n      posY = `${ -bottom.value }px`\n    }\n\n    if (side.left === true && left.value !== 0) {\n      posX = `${ dir * left.value }px`\n    }\n    else if (side.right === true && right.value !== 0) {\n      posX = `${ -dir * right.value }px`\n    }\n\n    const css = { transform: `translate(${ posX }, ${ posY })` }\n\n    if (props.offset) {\n      css.margin = `${ props.offset[ 1 ] }px ${ props.offset[ 0 ] }px`\n    }\n\n    if (side.vertical === true) {\n      if (left.value !== 0) {\n        css[ $q.lang.rtl === true ? 'right' : 'left' ] = `${ left.value }px`\n      }\n      if (right.value !== 0) {\n        css[ $q.lang.rtl === true ? 'left' : 'right' ] = `${ right.value }px`\n      }\n    }\n    else if (side.horizontal === true) {\n      if (top.value !== 0) {\n        css.top = `${ top.value }px`\n      }\n      if (bottom.value !== 0) {\n        css.bottom = `${ bottom.value }px`\n      }\n    }\n\n    return css\n  })\n\n  const classes = computed(() =>\n    `q-page-sticky row flex-center fixed-${ props.position }`\n    + ` q-page-sticky--${ props.expand === true ? 'expand' : 'shrink' }`\n  )\n\n  function getStickyContent (slots) {\n    const content = hSlot(slots.default)\n\n    return h('div', {\n      class: classes.value,\n      style: style.value\n    },\n    props.expand === true\n      ? content\n      : [ h('div', content) ]\n    )\n  }\n\n  return {\n    $layout,\n    getStickyContent\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}